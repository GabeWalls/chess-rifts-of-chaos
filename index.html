<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Chess: Rifts of Chaos</title>
    <link rel="icon" type="image/svg+xml" href="assets/ROC Logo/SVG/Knight logo.svg">
    <link rel="stylesheet" href="styles.css?v=2.0">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7184995528326593"
            crossorigin="anonymous"></script>
</head>
<body>
    <!-- Beta Banner -->
    <div class="beta-banner" id="beta-banner">
        <div class="beta-banner-content">
            <span class="beta-badge">BETA</span>
            <span class="beta-message">This game is currently in beta testing. New to the game? Check out the Rules in the Settings menu (‚öôÔ∏è ‚Üí Rules). If you experience any issues, please document them and report to the developer.</span>
            <button class="beta-close" id="beta-close" aria-label="Close banner">&times;</button>
        </div>
    </div>

    <!-- Settings Menu -->
    <div class="settings-menu">
        <button class="settings-btn" id="settings-btn">‚öôÔ∏è</button>
        <div class="settings-panel" id="settings-panel">
            <div class="setting-item">
                <span>Dark Mode</span>
                <div class="toggle-switch" id="dark-mode-toggle"></div>
            </div>
            <div class="setting-item clickable" id="rules-btn">
                <span>üìñ Rules</span>
            </div>
        </div>
    </div>

    <div class="game-container">
        <header class="game-header">
            <h1>‚ôüÔ∏è Chess: Rifts of Chaos ‚ôüÔ∏è</h1>
            <div class="game-info">
                <div class="current-player">
                    Current Player: <span id="current-player">White</span>
                </div>
                <div class="game-phase">
                    Game Phase: <span id="game-phase">Setup - Place Rifts</span>
                </div>
            </div>
        </header>

        <main class="game-main">
            <!-- Left Sidebar (D20 + Multiplayer) -->
            <div class="left-sidebar">
                <!-- D20 Roll Panel (Side Panel) -->
                <div class="d20-roll-panel" id="d20-roll-panel" style="display: none;">
                    <div class="d20-panel-header">
                        <h4>D20</h4>
                    </div>
                    <div class="d20-panel-content" id="d20-panel-content">
                        <div class="d20-roll-section" id="d20-roll-section">
                            <div class="d20-display-container">
                                <div id="d20-display" class="d20-display">?</div>
                            </div>
                            <button class="roll-d20-btn" id="roll-d20-btn" disabled>Roll D20</button>
                        </div>
                        <div class="d20-result-section" id="d20-result-section" style="display: none;">
                            <div class="d20-result-display">
                                <div id="d20-result-number" class="d20-result-number">?</div>
                            </div>
                            <div class="d20-result-text" id="d20-result-text">Rolling...</div>
                        </div>
                        <div class="rift-effect-info" id="rift-effect-info" style="display: none;">
                            <h5 id="rift-effect-name">Effect Name</h5>
                            <p id="rift-effect-description">Effect description will appear here.</p>
                        </div>
                        <div class="d20-options-area" id="d20-options-area" style="display: none;">
                            <!-- Options like direction selection, target selection, cancel button will appear here -->
                        </div>
                    </div>
                </div>

                <!-- Multiplayer Button (under D20 panel) -->
                <div class="multiplayer-controls-sidebar">
                    <button id="multiplayer-btn" class="btn">
                        <img src="assets/Multiplayer/SVG/Multiplayer Icon White.svg" alt="Multiplayer" class="multiplayer-icon">
                        Multiplayer
                    </button>
                </div>
            </div>

            <div class="chess-board-container">
                <div class="board-with-side-coords">
                    <!-- Left coordinates (8-1) -->
                    <div class="board-coordinates left-coords">
                        <div class="coord-label" data-row="0">8</div>
                        <div class="coord-label" data-row="1">7</div>
                        <div class="coord-label" data-row="2">6</div>
                        <div class="coord-label" data-row="3">5</div>
                        <div class="coord-label" data-row="4">4</div>
                        <div class="coord-label" data-row="5">3</div>
                        <div class="coord-label" data-row="6">2</div>
                        <div class="coord-label" data-row="7">1</div>
                    </div>
                    
                    <div id="chess-board" class="chess-board">
                        <!-- Board will be generated by JavaScript -->
                        <!-- Sandstorm overlay -->
                        <div id="sandstorm-overlay" class="sandstorm-overlay"></div>
                    </div>
                </div>
                
                <!-- Bottom coordinates (A-H) -->
                <div class="board-coordinates bottom-coords">
                    <div class="coord-spacer"></div>
                    <div class="coord-label" data-col="0">A</div>
                    <div class="coord-label" data-col="1">B</div>
                    <div class="coord-label" data-col="2">C</div>
                    <div class="coord-label" data-col="3">D</div>
                    <div class="coord-label" data-col="4">E</div>
                    <div class="coord-label" data-col="5">F</div>
                    <div class="coord-label" data-col="6">G</div>
                    <div class="coord-label" data-col="7">H</div>
                    <div class="coord-spacer"></div>
                </div>
            </div>

            <div class="game-controls">
                <div class="setup-controls" id="setup-controls">
                    <h3>Setup Phase</h3>
                    <p>Place 4 rifts on rows 3, 4, 5, or 6. No two rifts can share the same row or column.</p>
                    <div class="rift-counter">
                        Rifts Placed: <span id="rift-count">0</span>/4
                    </div>
                    <button id="random-rifts" class="btn">Generate Random Rifts</button>
                    <button id="start-game" class="btn primary" disabled>Start Game</button>
                </div>

                <div class="game-controls-panel" id="game-controls-panel" style="display: none;">
                    <h3>Game Controls</h3>
                    
                    <!-- Multiplayer Status -->
                    <div id="multiplayer-status" class="multiplayer-status" style="display: none;">
                        <h4>Players in Room</h4>
                        <div id="room-players-display" class="room-players-display"></div>
                        <div id="room-spectators-display" class="room-spectators-display"></div>
                    </div>
                    <div class="captured-pieces">
                        <h4>Captured Pieces</h4>
                        <div class="captured-white">
                            <span>White:</span>
                            <div id="captured-white-pieces"></div>
                        </div>
                        <div class="captured-black">
                            <span>Black:</span>
                            <div id="captured-black-pieces"></div>
                        </div>
                    </div>
                    <div class="active-effects" id="active-effects">
                        <h4>Active Field Effects</h4>
                        <div id="field-effects-list"></div>
                    </div>
                    <div class="game-log">
                        <h4>Game Log</h4>
                        <div id="game-log-content" class="log-content"></div>
                    </div>
                    <div class="chat-section">
                        <h4>Chat</h4>
                        <div id="chat-messages" class="chat-messages"></div>
                        <div class="chat-input-container">
                            <input type="text" id="chat-input" placeholder="Type a message..." maxlength="100">
                            <button id="send-chat" class="btn small">Send</button>
                        </div>
                    </div>
                    <button id="resign-btn" class="btn danger">Resign</button>
                </div>

            </div>
        </main>
        
        <!-- Ad Placement - Top Banner -->
        <div class="ad-container ad-banner-top">
            <!-- Replace with your actual ad code from AdSense dashboard -->
            <!-- 
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7184995528326593"
                 data-ad-slot="YOUR_TOP_BANNER_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
            -->
        </div>

        <div class="rift-effects-modal" id="rift-effects-modal" style="display: none;">
            <div class="modal-content">
                <h3 id="rift-effect-title">Rift Effect</h3>
                <div id="rift-effect-description"></div>
                <div class="dice-roll">
                    <div class="dice-display">
                        <span id="dice-result">?</span>
                    </div>
                    <button id="roll-dice" class="btn">Roll D20</button>
                </div>
                <div id="rift-effect-options" class="effect-options"></div>
                <button id="close-modal" class="btn">Close</button>
            </div>
        </div>

        <div class="victory-modal" id="victory-modal" style="display: none;">
            <div class="modal-content">
                <h2 id="victory-message">Victory!</h2>
                <button id="new-game" class="btn primary">New Game</button>
            </div>
        </div>

        <!-- Multiplayer Room Modal -->
        <div class="room-modal" id="room-modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Join Multiplayer Game</h3>
                    <button class="close-btn" id="close-room-modal">&times;</button>
                </div>
                <div class="room-inputs">
                    <input type="text" id="room-code-input" placeholder="Enter room code (e.g., ABC123)" maxlength="6">
                    <input type="text" id="player-name-input" placeholder="Enter your name" maxlength="20">
                    <button id="join-room-btn" class="btn primary">Join Room</button>
                    <button id="create-room-btn" class="btn">Create New Room</button>
                </div>
                <div class="room-info" id="room-info" style="display: none;">
                    <h4>Room: <span id="current-room-code"></span></h4>
                    <div class="players-list">
                        <h5>Players:</h5>
                        <div id="players-list"></div>
                    </div>
                    <div class="spectators-list">
                        <h5>Spectators:</h5>
                        <div id="spectators-list"></div>
                    </div>
                    <div class="coin-flip-result" id="coin-flip-result" style="display: none;">
                        <p>Coin flip result: <span id="coin-flip-text"></span></p>
                    </div>
                </div>
                <button id="leave-room-btn" class="btn danger" style="display: none;">Leave Room</button>
            </div>
        </div>

        <!-- Rules Modal -->
        <div class="rules-modal" id="rules-modal" style="display: none;">
            <div class="modal-content rules-content">
                <div class="modal-header">
                    <h2>Chess: Rifts of Chaos - Game Rules</h2>
                    <button class="close-btn" id="close-rules-modal">&times;</button>
                </div>
                <div class="rules-body">
                    <!-- Tab Navigation -->
                    <div class="rules-tabs">
                        <button class="tab-btn active" data-tab="intro">Intro</button>
                        <button class="tab-btn" data-tab="setup">Setup</button>
                        <button class="tab-btn" data-tab="gameplay">Gameplay</button>
                        <button class="tab-btn" data-tab="effects">Effects</button>
                        <button class="tab-btn" data-tab="rules">Rules</button>
                        <button class="tab-btn" data-tab="rifts">Rift Effects</button>
                    </div>

                    <!-- Tab Content -->
                    <!-- Tab 1: Introduction -->
                    <div class="rules-tab-content active" id="rules-tab-intro">
                        <h3>Chess: Rifts of Chaos</h3>
                        <p>A chaotic twist on classic chess where rifts alter the battlefield.</p>
                        
                        <h4>Table of Contents</h4>
                        <ul>
                            <li><strong>1. Setup</strong>
                                <ul>
                                    <li>1.1 Rift Generation</li>
                                    <li>1.2 Rift Indicators</li>
                                    <li>1.3 Piece Placement</li>
                                    <li>1.4 First Player</li>
                                </ul>
                            </li>
                            <li><strong>2. Core Gameplay</strong></li>
                            <li><strong>3. Rift Effects</strong>
                                <ul>
                                    <li>3.1 Rift Rankings</li>
                                    <li>3.2 Types of Rifts</li>
                                </ul>
                            </li>
                            <li><strong>4. Additional Rules</strong>
                                <ul>
                                    <li>4.1 Kings</li>
                                    <li>4.2 Activation Limits</li>
                                    <li>4.3 Victory Conditions</li>
                                    <li>4.4 Priority Rule</li>
                                </ul>
                            </li>
                            <li><strong>5. Rift Effect List</strong></li>
                        </ul>
                    </div>

                    <!-- Tab 2: Setup -->
                    <div class="rules-tab-content" id="rules-tab-setup">
                        <h3>1. Setup</h3>
                        
                        <h4>1.1 Rift Generation</h4>
                        <ul>
                            <li>At the start of each game, the system can automatically select 4 rift squares on the board or each player can select 2 locations of the 4 rifts.</li>
                            <li>Rifts only appear on rows 3, 4, 5, or 6.</li>
                            <li>No two rifts will ever share the same row or column.</li>
                        </ul>

                        <h4>1.2 Rift Indicators</h4>
                        <ul>
                            <li>Rifts are visually marked on the board with glowing effects or animations, so players can always see their positions.</li>
                        </ul>

                        <h4>1.3 Piece Placement</h4>
                        <ul>
                            <li>All chess pieces spawn in their standard starting positions.</li>
                        </ul>

                        <h4>1.4 First Player</h4>
                        <ul>
                            <li>The system randomly selects who plays White (and therefore moves first).</li>
                        </ul>
                    </div>

                    <!-- Tab 3: Core Gameplay -->
                    <div class="rules-tab-content" id="rules-tab-gameplay">
                        <h3>2. Core Gameplay</h3>
                        <ul>
                            <li>The game follows standard chess rules, except when a piece lands on a rift square.</li>
                            <li>When a piece enters a rift square:
                                <ol>
                                    <li>The system rolls a virtual D20.</li>
                                    <li>The corresponding rift effect is triggered and applied automatically.</li>
                                </ol>
                            </li>
                        </ul>
                    </div>

                    <!-- Tab 4: Rift Effects Overview -->
                    <div class="rules-tab-content" id="rules-tab-effects">
                        <h3>3. Rift Effects</h3>
                        
                        <h4>3.1 Rift Rankings (‚òÜ ‚Äì ‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ)</h4>
                        <ul>
                            <li>‚òÜ ‚Äî Purely negative for the activator, possibly positive for the opponent.</li>
                            <li>‚òÜ‚òÜ ‚Äî Negative for both players.</li>
                            <li>‚òÜ‚òÜ‚òÜ ‚Äî Neutral/equal effect on both players.</li>
                            <li>‚òÜ‚òÜ‚òÜ‚òÜ ‚Äî Mostly positive with some drawbacks.</li>
                            <li>‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ ‚Äî Strongly positive for the activator, possibly harmful to the opponent.</li>
                        </ul>

                        <h4>3.2 Types of Rifts</h4>
                        <ul>
                            <li><strong>Special Effects</strong>
                                <ul>
                                    <li>Trigger once, then expire.</li>
                                    <li>May apply to one or both players.</li>
                                    <li>If a rift's activation requirements aren't met, the system auto-rerolls the D20.</li>
                                    <li>After resolution, the turn continues normally.</li>
                                </ul>
                            </li>
                            <li><strong>Field Effects</strong>
                                <ul>
                                    <li>Alter gameplay rules globally until replaced.</li>
                                    <li>Only one field effect can be active at any given time.</li>
                                    <li>Activating a new field effect automatically cancels the previous one.</li>
                                    <li>If the same field effect is triggered twice in a row, both are canceled.</li>
                                    <li>The currently active field effect is always displayed on-screen.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <!-- Tab 5: Additional Rules -->
                    <div class="rules-tab-content" id="rules-tab-rules">
                        <h3>4. Additional Rules</h3>
                        
                        <h4>4.1 Kings</h4>
                        <ul>
                            <li>Kings cannot directly activate rifts but can still be affected by their outcomes.</li>
                        </ul>

                        <h4>4.2 Activation Limits</h4>
                        <ul>
                            <li>A rift can only trigger once per turn.</li>
                            <li>If a rift effect moves a piece onto another rift during the same turn, the second rift will not activate.</li>
                        </ul>

                        <h4>4.3 Victory Conditions</h4>
                        <ul>
                            <li>Standard win: checkmate your opponent's king.</li>
                            <li>If a rift removes a king from the board, the affected player immediately loses.</li>
                        </ul>

                        <h4>4.4 Priority Rule</h4>
                        <ul>
                            <li>Field effects always override previous field rift activations and remain active until replaced or canceled.</li>
                        </ul>
                    </div>

                    <!-- Tab 6: All Rift Effects -->
                    <div class="rules-tab-content" id="rules-tab-rifts">
                        <h3>5. Rift Effect List</h3>
                        <p>Each rift effect corresponds to a D20 roll. The system resolves activation automatically and displays animations and outcome text for clarity.</p>
                        
                        <!-- Rift Effect Navigation -->
                        <div class="rift-nav">
                            <strong>Quick Jump:</strong>
                            <div class="rift-nav-links">
                                <a href="#rift-1" class="rift-nav-link">1</a>
                                <a href="#rift-2" class="rift-nav-link">2</a>
                                <a href="#rift-3" class="rift-nav-link">3</a>
                                <a href="#rift-4" class="rift-nav-link">4</a>
                                <a href="#rift-5" class="rift-nav-link">5</a>
                                <a href="#rift-6" class="rift-nav-link">6</a>
                                <a href="#rift-7" class="rift-nav-link">7</a>
                                <a href="#rift-8" class="rift-nav-link">8</a>
                                <a href="#rift-9" class="rift-nav-link">9</a>
                                <a href="#rift-10" class="rift-nav-link">10</a>
                                <a href="#rift-11" class="rift-nav-link">11</a>
                                <a href="#rift-12" class="rift-nav-link">12</a>
                                <a href="#rift-13" class="rift-nav-link">13</a>
                                <a href="#rift-14" class="rift-nav-link">14</a>
                                <a href="#rift-15" class="rift-nav-link">15</a>
                                <a href="#rift-16" class="rift-nav-link">16</a>
                                <a href="#rift-17" class="rift-nav-link">17</a>
                                <a href="#rift-18" class="rift-nav-link">18</a>
                                <a href="#rift-19" class="rift-nav-link">19</a>
                                <a href="#rift-20" class="rift-nav-link">20</a>
                                <a href="#rift-21" class="rift-nav-link">21</a>
                            </div>
                        </div>
                        
                        <div class="rift-effects-list">
                            <div class="effect-item" id="rift-1">
                                <strong>1. Necromancer's Trap (‚òÜ, Special)</strong>
                                <ul>
                                    <li>The activating piece is removed.</li>
                                    <li>One of the opponent's captured pieces is revived onto the rift.</li>
                                    <li><em>Requirement: opponent must have a captured piece.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-2">
                                <strong>2. Archer's Trick Shot (‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Choose a cardinal direction from the rift.</li>
                                    <li>Up to 3 squares in the direction are scanned; remove the closest opponent's piece. Also remove any opponent's pieces that are to the left or right of the first removed piece.</li>
                                    <li><em>Requirement: an enemy piece must be within range.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-3">
                                <strong>3. Sandworm (‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Removes all pieces within 1 square radius of the rift, plus the activating piece.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-4">
                                <strong>4. Honorable Sacrifice (‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Remove your activating piece and any one piece within 1 square.</li>
                                    <li><em>Requirement: enemy piece within 1 square.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-5">
                                <strong>5. Demotion (‚òÜ, Special)</strong>
                                <ul>
                                    <li>Remove your activating piece.</li>
                                    <li>If it was a Castle, Knight, Bishop, or Queen, place a captured Pawn of yours on the rift.</li>
                                    <li><em>Requirement: must have a captured Pawn.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-6">
                                <strong>6. Foot Soldier's Gambit (‚òÜ‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>The activating piece must immediately move again.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-7">
                                <strong>7. Famine (‚òÜ‚òÜ, Field)</strong>
                                <ul>
                                    <li>Pawns cannot move while this effect is active.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-8">
                                <strong>8. Holiday's Rejuvenation (‚òÜ‚òÜ‚òÜ‚òÜ, Field)</strong>
                                <ul>
                                    <li>Pawns may move two spaces forward.</li>
                                    <li>Castles, Bishops, Queens can jump over 1 friendly piece (moving 1 space beyond).</li>
                                    <li>Knights move 3 + 1 instead of 2 + 1.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-9">
                                <strong>9. Sandstorm (‚òÜ‚òÜ, Field)</strong>
                                <ul>
                                    <li>Pawns cannot move.</li>
                                    <li>Knights move only 1 square.</li>
                                    <li>Castles, Bishops, Queens max range: 3 squares.</li>
                                    <li>Kings cannot move unless in check.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-10">
                                <strong>10. Dragon's Breath (‚òÜ‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Choose a direction; all enemy pieces up to 3 squares away in a straight line are removed.</li>
                                    <li><em>Requirement: enemy piece within range.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-11">
                                <strong>11. Jack Frost's Mischief (‚òÜ‚òÜ, Field)</strong>
                                <ul>
                                    <li>After moving a piece, the system auto-rolls a D20:
                                        <ul>
                                            <li>Odd = no effect.</li>
                                            <li>Even = the piece slides 1 extra square forward.</li>
                                        </ul>
                                    </li>
                                    <li>If it collides with another piece, both are frozen next turn.</li>
                                    <li>Sliding off the board removes the piece.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-12">
                                <strong>12. Portal in the Rift (‚òÜ‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Move the activating piece to another unactivated rift.</li>
                                    <li>If that rift is occupied, the occupying piece is removed.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-13">
                                <strong>13. Catapult Roulette (‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Roll 2D8 to choose a random square (column A‚ÄìH, row 1‚Äì8).</li>
                                    <li>Remove any piece on that square.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-14">
                                <strong>14. Conqueror's Tale (‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Your king permanently gains the ability to move twice per turn.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-15">
                                <strong>15. Medusa's Gaze (‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>The activating piece is frozen in place and cannot be moved/removed (except by other rifts).</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-16">
                                <strong>16. Time Distortion/Stasis (‚òÜ‚òÜ‚òÜ, Field)</strong>
                                <ul>
                                    <li>All pieces within a radius are frozen (cannot move).</li>
                                    <li>Radius = D20 roll:
                                        <ul>
                                            <li>1‚Äì8 = 1 square, 9‚Äì14 = 2, 15‚Äì18 = 3, 19‚Äì20 = 4.</li>
                                        </ul>
                                    </li>
                                    <li>Kings inside radius may only move if checked.</li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-17">
                                <strong>17. Crossroad Demon's Deal (‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>You may decline this effect before rolling.</li>
                                    <li>If accepted: remove your activating piece, roll a D20.
                                        <ul>
                                            <li>Odd = remove 1 more of your pieces (choice).</li>
                                            <li>Even = remove 2 more of your pieces (choice).</li>
                                        </ul>
                                    </li>
                                    <li>Opponent chooses one of your non-Pawn captured pieces to place on the rift.</li>
                                    <li><em>Requirement: you must have 1 non-Pawn captured piece and 2 non-King pieces on board.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-18">
                                <strong>18. Fairy Fountain (‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>Activating Pawn gains enhanced movement:
                                        <ul>
                                            <li>Forward 2 squares, or sideways 1 square.</li>
                                        </ul>
                                    </li>
                                    <li><em>Requirement: must be activated by a Pawn.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-19">
                                <strong>19. Eerie Fog's Turmoil (‚òÜ‚òÜ, Field)</strong>
                                <ul>
                                    <li>At the start of your turn, the system rolls a D20:
                                        <ul>
                                            <li>3‚Äì20 = proceed normally.</li>
                                            <li>1‚Äì2 = turn skipped.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-20">
                                <strong>20. Spring of Revival (‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ, Special)</strong>
                                <ul>
                                    <li>One of your captured pieces is revived onto a starting square.</li>
                                    <li><em>Requirement: must have at least 1 captured piece.</em></li>
                                </ul>
                            </div>
                            <div class="effect-item" id="rift-21">
                                <strong>21. Blank (‚òÜ‚òÜ‚òÜ, Field)</strong>
                                <ul>
                                    <li>Pawns may now move sideways to capture.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ad Placement - Sidebar (Desktop Only) -->
    <div class="ad-container ad-sidebar">
        <!-- Replace with your actual sidebar ad code from AdSense dashboard -->
        <!-- 
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7184995528326593"
             data-ad-slot="YOUR_SIDEBAR_SLOT_ID"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        -->
    </div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="chess-game.js?v=2.0"></script>
</body>
</html>
